function _0x754d(){const _0x323cb8=['138dZduao','175zyWcyN','../command','getLatestNews','user','publishedAt','Error:\x20Esana\x20News\x20returned\x20invalid\x20data.','1846KyuhoI','news','message','axios','admin','Error\x20fetching\x20Esana\x20News:\x20','sender','📰\x2024/7\x20News\x20Activated.','This\x20command\x20can\x20only\x20be\x20used\x20in\x20groups.','55139ZGkEpg','516zYFUyu','📰\x20*','BreakingNews','1476hAFGVq','Enable\x20Sri\x20Lankan\x20news\x20updates\x20in\x20this\x20group','forEach','description','interval','449852eyoZTo','🛑\x2024/7\x20News\x20Deactivated.','results','keys','some','🚫\x20This\x20command\x20can\x20only\x20be\x20used\x20by\x20group\x20admins\x20or\x20the\x20bot\x20owner.','hirunews-scrap','@sl-code-lords/esana-news','includes','40ineuan','\x0a\x0a>\x20*©ᴘᴏᴡᴇʀᴇᴅ\x20ʙʏ\x20ꜱᴀʜᴀꜱ\x20ᴛᴇᴄʜ*','error','owner','sendMessage','date','shift','61PJDFiX','201443DEtMQc','jid','Failed\x20to\x20deactivate\x20the\x20news\x20service.','stopnews','🛑\x2024/7\x20News\x20is\x20not\x20active\x20in\x20this\x20group.','Disable\x20Sri\x20Lankan\x20news\x20updates\x20in\x20this\x20group','📰\x2024/7\x20News\x20Already\x20Activated.','Error\x20in\x20news\x20command:\x20','Error\x20fetching\x20Hiru\x20News:\x20','push','11540AheGzO','length','1388181fOEHUX','\x0a\x0a*Published\x20On\x20:*\x20','title'];_0x754d=function(){return _0x323cb8;};return _0x754d();}function _0x5a2b(_0x9672c0,_0x49a537){const _0x754db0=_0x754d();return _0x5a2b=function(_0x5a2b2c,_0x226bee){_0x5a2b2c=_0x5a2b2c-0x199;let _0x85a827=_0x754db0[_0x5a2b2c];return _0x85a827;},_0x5a2b(_0x9672c0,_0x49a537);}const _0x45abdf=_0x5a2b;(function(_0x69bcaa,_0x2cc14f){const _0x2d07f7=_0x5a2b,_0x3d0fa5=_0x69bcaa();while(!![]){try{const _0x3c53d0=-parseInt(_0x2d07f7(0x1c0))/0x1*(parseInt(_0x2d07f7(0x19e))/0x2)+-parseInt(_0x2d07f7(0x1cd))/0x3+-parseInt(_0x2d07f7(0x1b0))/0x4+parseInt(_0x2d07f7(0x1d1))/0x5*(-parseInt(_0x2d07f7(0x1d0))/0x6)+parseInt(_0x2d07f7(0x1a7))/0x7*(-parseInt(_0x2d07f7(0x1b9))/0x8)+parseInt(_0x2d07f7(0x1ab))/0x9*(parseInt(_0x2d07f7(0x1cb))/0xa)+-parseInt(_0x2d07f7(0x1c1))/0xb*(-parseInt(_0x2d07f7(0x1a8))/0xc);if(_0x3c53d0===_0x2cc14f)break;else _0x3d0fa5['push'](_0x3d0fa5['shift']());}catch(_0x4a09d9){_0x3d0fa5['push'](_0x3d0fa5['shift']());}}}(_0x754d,0x4a788));const {cmd}=require(_0x45abdf(0x199)),Hiru=require(_0x45abdf(0x1b6)),Esana=require(_0x45abdf(0x1b7)),axios=require(_0x45abdf(0x1a1)),config=require('../config');let activeGroups={},lastNewsTitles={};async function getLatestNews(){const _0x4d00a9=_0x45abdf;let _0x1d4267=[];try{const _0x2a543c=new Hiru(),_0x576ac3=await _0x2a543c[_0x4d00a9(0x1aa)]();_0x1d4267[_0x4d00a9(0x1ca)]({'title':_0x576ac3[_0x4d00a9(0x1b2)][_0x4d00a9(0x1cf)],'content':_0x576ac3[_0x4d00a9(0x1b2)][_0x4d00a9(0x19f)],'date':_0x576ac3['results'][_0x4d00a9(0x1be)]});}catch(_0x5c2ee6){console[_0x4d00a9(0x1bb)](_0x4d00a9(0x1c9)+_0x5c2ee6[_0x4d00a9(0x1a0)]);}try{const _0xf40365=new Esana(),_0x493833=await _0xf40365[_0x4d00a9(0x19a)]();_0x493833&&_0x493833['title']&&_0x493833[_0x4d00a9(0x1ae)]&&_0x493833['publishedAt']?_0x1d4267[_0x4d00a9(0x1ca)]({'title':_0x493833[_0x4d00a9(0x1cf)],'content':_0x493833[_0x4d00a9(0x1ae)],'date':_0x493833[_0x4d00a9(0x19c)]}):console[_0x4d00a9(0x1bb)](_0x4d00a9(0x19d));}catch(_0x33e4b3){console[_0x4d00a9(0x1bb)](_0x4d00a9(0x1a3)+_0x33e4b3[_0x4d00a9(0x1a0)]);}return _0x1d4267;}async function checkAndPostNews(_0x97b926,_0x5be38c){const _0x10f018=_0x45abdf,_0x1b0c84=await getLatestNews();_0x1b0c84[_0x10f018(0x1ad)](async _0x1cd7ad=>{const _0x112e2a=_0x10f018;!lastNewsTitles[_0x5be38c]&&(lastNewsTitles[_0x5be38c]=[]),!lastNewsTitles[_0x5be38c][_0x112e2a(0x1b8)](_0x1cd7ad[_0x112e2a(0x1cf)])&&(await _0x97b926[_0x112e2a(0x1bd)](_0x5be38c,{'text':_0x112e2a(0x1a9)+_0x1cd7ad['title']+'*\x0a'+_0x1cd7ad['content']+_0x112e2a(0x1ce)+_0x1cd7ad[_0x112e2a(0x1be)]+_0x112e2a(0x1ba)}),lastNewsTitles[_0x5be38c][_0x112e2a(0x1ca)](_0x1cd7ad['title']),lastNewsTitles[_0x5be38c][_0x112e2a(0x1cc)]>0x64&&lastNewsTitles[_0x5be38c][_0x112e2a(0x1bf)]());});}cmd({'pattern':'startnews','desc':_0x45abdf(0x1ac),'isGroup':!![],'category':_0x45abdf(0x1bc),'react':'📰','filename':__filename},async(_0x325487,_0xd1dc21,_0x5c3f56,{from:_0x4c49f0,isGroup:_0x311d80,participants:_0x171811})=>{const _0x376068=_0x45abdf;try{if(_0x311d80){const _0x497d14=_0x171811[_0x376068(0x1b4)](_0xd70fc3=>_0xd70fc3['id']===_0xd1dc21[_0x376068(0x1a4)]&&_0xd70fc3[_0x376068(0x1a2)]),_0x205561=_0xd1dc21['sender']===_0x325487['user'][_0x376068(0x1c2)];_0x497d14||_0x205561?!activeGroups[_0x4c49f0]?(activeGroups[_0x4c49f0]=!![],await _0x325487['sendMessage'](_0x4c49f0,{'text':_0x376068(0x1a5)}),!activeGroups['interval']&&(activeGroups[_0x376068(0x1af)]=setInterval(async()=>{const _0x186afa=_0x376068;for(const _0x2fd0e4 in activeGroups){activeGroups[_0x2fd0e4]&&_0x2fd0e4!==_0x186afa(0x1af)&&await checkAndPostNews(_0x325487,_0x2fd0e4);}},0xea60))):await _0x325487[_0x376068(0x1bd)](_0x4c49f0,{'text':_0x376068(0x1c7)}):await _0x325487[_0x376068(0x1bd)](_0x4c49f0,{'text':_0x376068(0x1b5)});}else await _0x325487[_0x376068(0x1bd)](_0x4c49f0,{'text':'This\x20command\x20can\x20only\x20be\x20used\x20in\x20groups.'});}catch(_0x3c9f5e){console[_0x376068(0x1bb)](_0x376068(0x1c8)+_0x3c9f5e[_0x376068(0x1a0)]),await _0x325487[_0x376068(0x1bd)](_0x4c49f0,{'text':'Failed\x20to\x20activate\x20the\x20news\x20service.'});}}),cmd({'pattern':_0x45abdf(0x1c4),'desc':_0x45abdf(0x1c6),'isGroup':!![],'category':_0x45abdf(0x1bc),'react':'🛑','filename':__filename},async(_0x3f4cc7,_0x4ca781,_0x51c06e,{from:_0x19917b,isGroup:_0x35ac00,participants:_0x53c4f6})=>{const _0xefa8d5=_0x45abdf;try{if(_0x35ac00){const _0x4783c3=_0x53c4f6[_0xefa8d5(0x1b4)](_0x5bab02=>_0x5bab02['id']===_0x4ca781[_0xefa8d5(0x1a4)]&&_0x5bab02[_0xefa8d5(0x1a2)]),_0x1df715=_0x4ca781['sender']===_0x3f4cc7[_0xefa8d5(0x19b)]['jid'];_0x4783c3||_0x1df715?activeGroups[_0x19917b]?(delete activeGroups[_0x19917b],await _0x3f4cc7[_0xefa8d5(0x1bd)](_0x19917b,{'text':_0xefa8d5(0x1b1)}),Object[_0xefa8d5(0x1b3)](activeGroups)[_0xefa8d5(0x1cc)]===0x1&&activeGroups['interval']&&(clearInterval(activeGroups['interval']),delete activeGroups[_0xefa8d5(0x1af)])):await _0x3f4cc7[_0xefa8d5(0x1bd)](_0x19917b,{'text':_0xefa8d5(0x1c5)}):await _0x3f4cc7[_0xefa8d5(0x1bd)](_0x19917b,{'text':_0xefa8d5(0x1b5)});}else await _0x3f4cc7['sendMessage'](_0x19917b,{'text':_0xefa8d5(0x1a6)});}catch(_0x31587b){console['error']('Error\x20in\x20news\x20command:\x20'+_0x31587b[_0xefa8d5(0x1a0)]),await _0x3f4cc7['sendMessage'](_0x19917b,{'text':_0xefa8d5(0x1c3)});}});
